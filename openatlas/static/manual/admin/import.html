


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Import &mdash; OpenAtlas 7.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Export" href="export.html" />
    <link rel="prev" title="Data integrity checks" href="data_integrity_checks.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> OpenAtlas
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entity/index.html">Entity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../form/index.html">Form</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Admin</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../entity/file.html">File</a></li>
<li class="toctree-l2"><a class="reference internal" href="user.html">User</a></li>
<li class="toctree-l2"><a class="reference internal" href="general.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="mail.html">Mail</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="map.html">Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="content.html">Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_integrity_checks.html">Data integrity checks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Import</a></li>
<li class="toctree-l2"><a class="reference internal" href="export.html">Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute_sql.html">Execute SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ui/index.html">UI Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenAtlas</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Admin</a> &raquo;</li>
        
      <li>Import</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="import">
<h1>Import<a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Import is available for admins and managers and offers functionality to import data
from <a class="reference external" href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> files.
Currently lists can be imported containing:</p>
<ul class="simple">
<li><p>Name</p></li>
<li><p>Description</p></li>
<li><p>Dates</p></li>
<li><p>GIS data</p></li>
<li><p>Types</p></li>
<li><p>origin_id</p></li>
</ul>
<div class="section" id="preparations">
<h2>Preparations<a class="headerlink" href="#preparations" title="Permalink to this headline">¶</a></h2>
<p>Automatic imports can be dangerous for data integrity and it may be very time consuming to reverse them so we strongly advise:</p>
<ul class="simple">
<li><p>SQL backups <strong>before</strong> import, an existing backup not older than a day is enforced</p></li>
<li><p>Use the preview (enabled by default) and check if the data looks alright</p></li>
</ul>
<p>The import operation is encapsulated in a transaction, meaning if there is an error in the script,
nothing will be imported.</p>
<p><strong>The file:</strong></p>
<ul class="simple">
<li><p>Take a look at the <a class="reference download internal" download="" href="../_downloads/c252be00e4e00a8d8fbe6ca68143f1c4/example.csv"><code class="xref download docutils literal notranslate"><span class="pre">example.csv</span></code></a></p></li>
<li><p>Make sure the extension is spelled correctly in lower case e.g. my_data.csv</p></li>
<li><p>In the first line should be the header names</p></li>
<li><p>Each following line is one data set. Values are separated by commas</p></li>
<li><p>Text can be enclosed in double quotes, especially if the contain commas</p></li>
</ul>
</div>
<div class="section" id="projects">
<h2>Projects<a class="headerlink" href="#projects" title="Permalink to this headline">¶</a></h2>
<p>To retrace imported entities they have to be associated with a project. If there is none (or not
the right one) available you’ll have to create a new one. The name and description can be updated
later.</p>
</div>
<div class="section" id="import-class">
<h2>Import class<a class="headerlink" href="#import-class" title="Permalink to this headline">¶</a></h2>
<p>Only one class can be imported at a time so you have to choose one of the available classes.</p>
</div>
<div class="section" id="import-fields">
<h2>Import fields<a class="headerlink" href="#import-fields" title="Permalink to this headline">¶</a></h2>
<p>The header can contain following titles. Columns with other titles won’t get imported but shown as
an error message.</p>
<ul class="simple">
<li><p><strong>name</strong> - required, an error will be displayed if the header is missing. A warning will be displayed, if names in data rows are missing and these wont get imported.</p></li>
<li><p><strong>description</strong> - a description can be provided</p></li>
<li><p><strong>origin_id</strong> - optional but useful to trace it back. It has to be <strong>unique per project</strong> so if you have multiple like a person and place with id = 1 you can prefix them in the document e.g. person_1, place_1 before importing them</p></li>
<li><p><strong>begin_from</strong> - used for dates, see below</p></li>
<li><p><strong>begin_to</strong> - used for dates, see below</p></li>
<li><p><strong>end_from</strong> - used for dates, see below</p></li>
<li><p><strong>end_to</strong> - used for dates, see below</p></li>
<li><p><strong>type_ids</strong> - used to link to types, see below</p></li>
<li><p><strong>northing</strong> - only available for places, see below</p></li>
<li><p><strong>easting</strong> - only available for places, see below</p></li>
</ul>
<div class="section" id="dates">
<h3>Dates<a class="headerlink" href="#dates" title="Permalink to this headline">¶</a></h3>
<p>Dates can be entered in the format <strong>YYYY-MM-DD</strong> in the fields <strong>begin_from</strong> and <strong>end_from</strong>.
You can also use time spans in combinations with the fields <strong>begin_to</strong> and <strong>end_to</strong>,
see: <a class="reference internal" href="../form/date.html"><span class="doc">Date</span></a></p>
<ul class="simple">
<li><p>If the date format is incorrect they will be displayed in red and won’t be imported</p></li>
<li><p>Missing values for time spans will be discarded silently, e.g. a valid value in <strong>begin_to</strong> but an empty value in <strong>begin_from</strong></p></li>
<li><p>There are no advanced checks between dates e.g. end dates can be before begin dates. You should check them after the import at <a class="reference internal" href="data_integrity_checks.html"><span class="doc">Data integrity checks</span></a></p></li>
</ul>
</div>
<div class="section" id="types">
<h3>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h3>
<p>It is possible to link entities to types at the import which can be very useful e.g. if you have
a custom type <strong>Case studies</strong> to link them all in one go.</p>
<ul class="simple">
<li><p>Type ids can be entered at the column <strong>type_ids</strong></p></li>
<li><p>You can enter multiple separated with a space</p></li>
<li><p>The id of a type can be looked up at the detail view of a type</p></li>
</ul>
</div>
<div class="section" id="places">
<h3>Places<a class="headerlink" href="#places" title="Permalink to this headline">¶</a></h3>
<p>If importing places, point coordinates can be imported too. Keep in mind to use
the <a class="reference external" href="https://gisgeography.com/wgs84-world-geodetic-system/">WGS84</a> geodetic system.
Coordinates will only be imported if a columns <strong>northing</strong> (latitude) and <strong>easting</strong> (Longitude)
is present and rows contain number values.</p>
<ul class="simple">
<li><p><strong>northing</strong> - number value</p></li>
<li><p><strong>easting</strong> - number value</p></li>
</ul>
</div>
</div>
<div class="section" id="import-options">
<h2>Import options<a class="headerlink" href="#import-options" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>File</strong> - select the file you’ll want to import</p></li>
<li><p><strong>Preview</strong> - if this option is selected, nothing will be imported and you see a preview</p></li>
<li><p><strong>Check for duplicates</strong> - if selected the chosen class e.g. person will be searched for already existing names. The search is not case sensitive e.g. “King Arthur” would be found even it is spelled “KiNg ArThUr”. If duplicates are found a warning is printed but this doesn’t stop the import so check it before with the preview.</p></li>
</ul>
</div>
<div class="section" id="after-the-import">
<h2>After the import<a class="headerlink" href="#after-the-import" title="Permalink to this headline">¶</a></h2>
<p>When the import went through you’ll see a summary which data was imported (like the preview).
Also you can browse the projects to see which imported entities are associated with them.
If you enabled the advanced layout you can also see in the detail view of an entity from which
project it was imported, which user did the import and the origin_id value.</p>
<p>Although the script makes a lot of validation checks it’s always a good idea to run
<a class="reference internal" href="data_integrity_checks.html"><span class="doc">Data integrity checks</span></a> after each import.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="export.html" class="btn btn-neutral float-right" title="Export" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="data_integrity_checks.html" class="btn btn-neutral float-left" title="Data integrity checks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
        <p>CC-BY 4.0, Alexander Watzinger and the OpenAtlas team</p>
        <script type="text/javascript">
            <!-- Adds target=_blank to external links -->
            $(document).ready(function () {
                $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
            });
        </script>


</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>